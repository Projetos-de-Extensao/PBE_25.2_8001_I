{% extends 'base.html' %}

{% block title %}Vagas de Monitoria{% endblock %}

{% block hero_title %}Vagas de Monitoria{% endblock %}
{% block hero_subtitle %}Explore as vagas disponíveis e candidate-se{% endblock %}

{% block extra_css %}
<style>
    .page-container { max-width: 1000px; margin: 30px auto; }
    .vaga-card { box-shadow: 0 0 8px rgba(0,0,0,0.06); border-radius: 8px; height: 100%; }
    .vaga-card .card-body { padding: 1rem 1.25rem; display: flex; flex-direction: column; }
</style>
{% endblock %}

{% block content %}
  <div class="container page-container">
    {% if messages %}
      <div class="mt-3">
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}" role="alert">{{ message }}</div>
        {% endfor %}
      </div>
    {% endif %}
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="mb-0">Vagas de Monitoria</h2>
      <div>
      </div>
    </div>

    <div class="row g-3">
      {% if vagas %}
        {% for vaga in vagas %}
          <div class="col-12">
            <div class="card vaga-card bg-white h-100">
              <div class="card-body">
                <div>
                  <h5 class="card-title">{{ vaga.titulo }} <small class="text-muted">- {{ vaga.disciplina }}</small></h5>
                  <p class="mb-1"><strong>Pré-requisitos:</strong> {{ vaga.prerequisitos }}</p>
                  <p class="mb-1"><strong>Responsabilidades:</strong> {{ vaga.responsabilidades }}</p>
                  <p class="mb-0"><strong>Vagas disponíveis:</strong> {{ vaga.numero_vagas }}</p>
                </div>
                <div class="mt-3 text-end mt-auto">
                  {% if vaga.disponivel %}
                    <a href="{% url 'cadastrar_candidato_vaga' vaga.id %}" class="btn btn-success">Candidatar-se</a>
                  {% else %}
                    <span class="badge bg-secondary">Indisponível</span>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      {% else %}
        <div class="col-12">
          <div class="alert alert-info">Nenhuma vaga disponível no momento.</div>
        </div>
      {% endif %}
    </div>
  </div>
{% endblock %}